<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:composition template="/WEB-INF/template.xhtml">       
        <ui:define name="content">       
            <div class="Container100">       
                <div class="ContainerIndent">

                    <h:form id="form" >

                        <p:growl  for="growlprincipal" id="growlprincipal" showDetail="true" sticky="true" />

                        <div class="Card Padding20px">
                            <div class="CardTopic">
                                <i class="fa fa-paperclip Fs30 Fleft MarRight10"></i>
                                <div class="EmptyBox10 ShowOnMobile"></div>
                                Formalizar Proyecto <br />
                                    <span class="CardSubTopic">
                                        <h:outputText value="Proyecto N° #{proyectoController.selected.id} - #{proyectoController.selected.nombre}" />
                                    </span>
                            </div>

                            <div class="Separator"></div>

                            <div class="Container100">
                                <div class="ContainerIndent">

                                    <!--<h:outputLabel value="Fecha Expediente" for="fechaexpediente" />-->
                                    <!--<p:calendar id="fechaexpediente" value="#{proyectoController.selected.fechaexpediente}" title="Fecha de Expediente"/>-->

                                    <p:panelGrid columns="4" layout="grid"
                                                 styleClass="ui-grid-col-12 ui-panelgrid-blank" >

                                        <p:outputLabel value="N° Expediente" for="expediente" styleClass="Fright" style="padding-top: 13px" />
                                        <p:inputText id="expediente" value="#{proyectoController.selected.expediente}" title="Expediente"  />

                                        <p:outputLabel value="CUDAP" for="cudap" styleClass="Fright" style="padding-top: 13px" />
                                        <p:inputText id="cudap" value="#{proyectoController.selected.cudap}" title="CUDAP" />

                                        <p:outputLabel value="N° Resolución UNDEC" for="resolucion" styleClass="Fright" style="padding-top: 13px" />
                                        <p:inputText id="resolucion" value="#{proyectoController.selected.resolucion}" title="Resolución" />

                                        <p:outputLabel value="Fecha de Resolucion UNDEC" for="fecharesolucion" styleClass="Fright" style="padding-top: 13px" />
                                        <p:calendar id="fecharesolucion" value="#{proyectoController.selected.fecharesolucion}" title="Fecha de Resolución"/>

                                        <p:outputLabel value="N° Resolución Organismo" for="resolucionroganismo" styleClass="Fright" style="padding-top: 13px" />
                                        <p:inputText id="resolucionroganismo" value="#{proyectoController.selected.resolucionorganismo}" title="Expediente" />

                                        <p:outputLabel value="Fecha de Resolución Organismo" for="fecharesolucionorganismo" styleClass="Fright" style="padding-top: 13px" />
                                        <p:calendar id="fecharesolucionorganismo" value="#{proyectoController.selected.fecharesolucionorganismo}" title="Fecha de Expediente"/>

                                    </p:panelGrid>

                                    <div class="EmptyBox10"></div>

                                    <div class="Separator"></div>

                                    <div align="center" >
                                        <p:commandButton icon="fa fa-save" styleClass="GreenButton White MarRight10" value="Formalizar Proyecto" actionListener="#{proyectoController.setFormalizar}"  />
                                        <p:commandButton icon="fa fa-times" styleClass="RedButton White" value="Cancelar" action="List" ajax="false" />
                                    </div>
                                </div>
                            </div>
                        </div>


                        <p:dialog id="dfinal" widgetVar="dfinal"  modal="true" closable="false"  header="Formalización del Proyecto" >
                            Proyecto Formalizado Satisfactoriamente!!!
                            <div align="center" >
                                <h:panelGrid columns="2">
                                    <p:commandButton value="Imprimir" actionListener="#{proyectoController.pdfFormalizarProyecto()}" ajax="false"  />
                                    <p:commandButton value="OK" ajax="false" action="List" onclick="PF('dfinal').hide();" />
                                </h:panelGrid>
                            </div>
                        </p:dialog>                
                    </h:form> 

                </div>  
            </div>        
        </ui:define>
    </ui:composition>    

</html>
