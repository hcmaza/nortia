<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
        <ui:define name="title">
            <h:outputText value="Nuevo Agente"></h:outputText>
        </ui:define>
        <ui:define name="body" >
             <p:ajaxStatus onstart="PF('statusDialog').show();" onsuccess="PF('statusDialog').hide();"/>  
              
        <p:dialog modal="true" widgetVar="statusDialog" header="Espere Por Favor"   
                draggable="false" closable="false"> 
            <div align="center">
                <p:graphicImage value="/resources/img/ajaxloadingbar.gif" /> 
            </div>
        </p:dialog>  

            
            <h:form >
                <p:panel id="pprincipal" header="Importacion de datos al sistema" style="padding: 0px; width: 950px; margin: 0 auto; overflow: hidden;">
                    <h:panelGroup id="messagePanel" layout="block">
                        <p:messages autoUpdate="true" />
                    </h:panelGroup>

                   
                    <br style="clear: both;"/>
                    
                    <p:separator />
                    <div align="center">
                        Importar datos desde el SIU MAPUCHE(Trae Docentes a la tabla Agentes) 
                        <p:commandButton action="#{agenteViewController.importardatos}" value="Importar Datos " style="display: inline-block;" icon="ui-icon-disk" validateClient="true" update="pprincipal" />
                    </div>
                        <p:separator/>
                    <!--<h:link outcome="/index" value="Inicio"/>-->

                </p:panel>

            </h:form>
            <h:form>
                 <p:dialog id="dfinal" widgetVar="dfinal"  modal="true" closable="false"  header="Alta de Agente" >
                    El Agente fue creado satisfactoriamente!
                    <p:separator />
                    <div align="center" >
                        <p:commandButton value="Volver a la Lista" action="#{agenteController.prepareList()}" ajax="false" />
                    </div>

                </p:dialog>
            </h:form>
        </ui:define>
    </ui:composition>

</html>
